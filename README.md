# Flask + YaDisk

Этот проект представляет собой веб-приложение на Flask, которое позволяет пользователям регистрироваться, авторизовываться и скачивать файлы с внешнего источника Яндекс.Диска. Приложение предоставляет пользователю возможность загрузить файл, указав публичную ссылку на диск.

---
## Описание функциональности

1. **Регистрация пользователей**: Пользователи могут зарегистрироваться, указав имя пользователя и электронную почту. Пароль сохраняется в зашифрованном виде.
   
2. **Авторизация пользователей**: Зарегистрированные пользователи могут войти в систему, введя свой логин и пароль.

3. **Главная страница**: После авторизации пользователь попадает на главную страницу, где может ввести публичную ссылку для последующего скачивание файлов.

4. **Просмотр доступных файлов**: Введя публичную ссылку, пользователь может просматривать доступные для скачивания файлы.

5. **Скачивание файлов**: Пользователи могут скачивать файлы по публичной ссылке.
---
## Структура проекта

```plaintext
/YaFlask
│
├── /src
│   ├── /config.py          # Конфигурация приложения
│   ├── /models.py          # Модели базы данных
│   ├── /forms.py           # Формы регистрации и авторизации
│   ├── /app.py             # Основной файл приложения
│   ├── /req.txt            # Список зависимостей
│   └── /templates          
│       ├── /index.html         # Главная страница
│       ├── /login.html         # Страница авторизации
│       ├── /register.html      # Страница регистрации
│       └── /view_files.html    # Страница просмотра файлов
│
├── /.gitignore             # Файл исключений для добавления в Git
└── /README.md              # Этот файл 
```
---
## Установка
1. **Клонировать репозиторий:** `git clone https://github.com/gigabait15/FlaskYa.git`


2. **Установить зависимости:**
   * **Создайте виртуальное окружение и активируйте его:**
     * `python -m venv venv`
     
     source venv/bin/activate   # Для Linux/macOS
   
     venv\Scripts\activate      # Для Windows
   * **Установите зависимости:**
     * `pip install -r requirements.txt`


3. **Настройка:**
   
   **Создать файл .env в корне проекта**

   добавить в него поля:
   * SECRET_KEY, NAME, HOST, DB

   **Создать БД**   
   *выполнить команды*
     * flask db init
     * flask db migrate -m "Initial migration."
     * flask db upgrade


4. **Запуск приложения:**
   
   *Запустите приложение с помощью следующей команды:*
   * `flask run`
        
   *Приложение будет доступно по адресу: http://127.0.0.1:5000*

---
## Описание маршрутов
`/register` — Страница регистрации. Пользователи могут зарегистрироваться, указав имя пользователя, электронную почту и пароль.

- **Метод: GET, POST**
- **Форма: RegistrationForm**

`/login` — Страница авторизации. Пользователи могут авторизоваться, введя имя пользователя и пароль.

- **Метод: GET, POST**
- **Форма: LoginForm**

`/logout` — Выход из системы. Выход пользователя из системы.

- **Метод: GET**

#### Требует авторизации.

`/` — Главная страница. После авторизации пользователь попадает на главную страницу, где можно ввести публичную ссылку для просмотра и скачивания файлов.

- **Метод: GET, POST**

`/view_files` — Просмотр доступных файлов. После ввода публичной ссылки пользователь может просматривать доступные для скачивания файлы.

- **Метод: GET**
- **Параметры: public_key**

`/download_file` — Скачивание файла. Скачивание файла по предоставленной публичной ссылке.

- **Метод: GET**
- **Параметры: file_url, file_name**
---
## Технологии
- Flask — Веб-фреймворк для Python.
- Flask-Login — Расширение для управления сессиями пользователей.
- SQLAlchemy — ORM для работы с базой данных.
- Jinja2 — Шаблонизатор для генерации HTML.
- Bootstrap — Фреймворк для создания адаптивных веб-интерфейсов.